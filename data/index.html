<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contr√¥leur Tapis Chauffant - Vivarium</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>üêú Contr√¥leur Vivarium</h1>
            <div class="status-bar">
                <div class="status-item">
                    <span class="status-label">Temp√©rature:</span>
                    <span id="current-temp" class="status-value">--¬∞C</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Humidit√©:</span>
                    <span id="current-humidity" class="status-value">--%</span>
                </div>
                <div class="status-item">
                    <span class="status-label">Chauffage:</span>
                    <span id="heating-status" class="status-value status-off">OFF</span>
                </div>
                <div class="status-item">
                    <span class="status-label">WiFi:</span>
                    <span id="wifi-status" class="status-value">üî¥</span>
                </div>
            </div>
            <button id="theme-toggle" class="theme-toggle">üåô</button>
        </header>

        <!-- Navigation -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="dashboard">üìä Tableau de bord</button>
            <button class="tab-btn" data-tab="heating">üî• Chauffage</button>
            <button class="tab-btn" data-tab="temperature">üå°Ô∏è Temp√©rature</button>
            <button class="tab-btn" data-tab="camera">üìπ Cam√©ra</button>
            <button class="tab-btn" data-tab="led">üí° √âclairage</button>
            <button class="tab-btn" data-tab="settings">‚öôÔ∏è Param√®tres</button>
        </nav>

        <!-- Contenu principal -->
        <main class="main-content">
            <!-- Onglet Tableau de bord -->
            <div id="dashboard" class="tab-content active">
                <div class="dashboard-grid">
                    <div class="card">
                        <h3>üìà Temp√©rature (24h)</h3>
                        <canvas id="temp-chart"></canvas>
                    </div>
                    <div class="card">
                        <h3>üíß Humidit√© (24h)</h3>
                        <canvas id="humidity-chart"></canvas>
                    </div>
                    <div class="card">
                        <h3>üéØ Consignes</h3>
                        <div class="metrics">
                            <div class="metric">
                                <span class="metric-label">Cible actuelle:</span>
                                <span id="target-temp" class="metric-value">--¬∞C</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Mode:</span>
                                <span id="temp-mode" class="metric-value">--</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">R√©gulation:</span>
                                <span id="heating-mode" class="metric-value">--</span>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h3>üìä Moyennes 24h</h3>
                        <div class="metrics">
                            <div class="metric">
                                <span class="metric-label">Temp√©rature moy:</span>
                                <span id="temp-avg" class="metric-value">--¬∞C</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Humidit√© moy:</span>
                                <span id="humidity-avg" class="metric-value">--%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Chauffage -->
            <div id="heating" class="tab-content">
                <div class="config-grid">
                    <div class="card">
                        <h3>üî• Mode de r√©gulation</h3>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="heating-mode" value="0" id="pid-mode">
                                <span class="radio-custom"></span>
                                PID (R√©gulation continue)
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="heating-mode" value="1" id="hysteresis-mode">
                                <span class="radio-custom"></span>
                                Hyst√©r√©sis (Tout ou rien)
                            </label>
                        </div>
                    </div>

                    <div class="card" id="pid-config">
                        <h3>‚öôÔ∏è Param√®tres PID</h3>
                        <div class="input-group">
                            <label for="pid-kp">Kp (Proportionnel):</label>
                            <input type="number" id="pid-kp" step="0.1" min="0" max="10">
                        </div>
                        <div class="input-group">
                            <label for="pid-ki">Ki (Int√©gral):</label>
                            <input type="number" id="pid-ki" step="0.1" min="0" max="5">
                        </div>
                        <div class="input-group">
                            <label for="pid-kd">Kd (D√©riv√©):</label>
                            <input type="number" id="pid-kd" step="0.1" min="0" max="5">
                        </div>
                    </div>

                    <div class="card" id="hysteresis-config">
                        <h3>üìè Param√®tres Hyst√©r√©sis</h3>
                        <div class="input-group">
                            <label for="hyst-ecart">√âcart (¬∞C):</label>
                            <input type="number" id="hyst-ecart" step="0.1" min="0.1" max="2.0">
                        </div>
                        <div class="info-box">
                            <p>üîÑ Fonctionnement:</p>
                            <p>‚Ä¢ Chauffage ON si T < (Consigne - √âcart)</p>
                            <p>‚Ä¢ Chauffage OFF si T > Consigne</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Temp√©rature -->
            <div id="temperature" class="tab-content">
                <div class="config-grid">
                    <div class="card">
                        <h3>üå°Ô∏è Mode de consigne</h3>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="temp-mode" value="0" id="fixed-mode">
                                <span class="radio-custom"></span>
                                Valeurs fixes Jour/Nuit
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="temp-mode" value="1" id="weather-mode">
                                <span class="radio-custom"></span>
                                M√©t√©o en ligne
                            </label>
                        </div>
                    </div>

                    <div class="card" id="fixed-temp-config">
                        <h3>üåÖ Temp√©ratures fixes</h3>
                        <div class="input-group">
                            <label for="temp-jour">Temp√©rature jour (¬∞C):</label>
                            <input type="number" id="temp-jour" step="0.5" min="15" max="30">
                        </div>
                        <div class="input-group">
                            <label for="temp-nuit">Temp√©rature nuit (¬∞C):</label>
                            <input type="number" id="temp-nuit" step="0.5" min="15" max="30">
                        </div>
                    </div>

                    <div class="card" id="weather-config">
                        <h3>üåç Localisation m√©t√©o</h3>
                        <div class="input-group">
                            <label for="latitude">Latitude:</label>
                            <input type="number" id="latitude" step="0.0001" min="-90" max="90">
                        </div>
                        <div class="input-group">
                            <label for="longitude">Longitude:</label>
                            <input type="number" id="longitude" step="0.0001" min="-180" max="180">
                        </div>
                        <div class="weather-info">
                            <div class="metric">
                                <span class="metric-label">Derni√®re mise √† jour:</span>
                                <span id="weather-update" class="metric-value">--</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Temp√©rature m√©t√©o:</span>
                                <span id="weather-temp" class="metric-value">--¬∞C</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Cam√©ra -->
            <div id="camera" class="tab-content">
                <div class="camera-section">
                    <div class="card">
                        <h3>üìπ Configuration cam√©ra</h3>
                        <div class="camera-controls">
                            <div class="toggle-group">
                                <label class="toggle-label">
                                    <input type="checkbox" id="stream-active">
                                    <span class="toggle-slider"></span>
                                    Streaming actif
                                </label>
                            </div>
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="stream-quality" value="0" id="qvga-quality">
                                    <span class="radio-custom"></span>
                                    QVGA (320x240) - Basse qualit√©
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="stream-quality" value="1" id="svga-quality">
                                    <span class="radio-custom"></span>
                                    SVGA (800x600) - Haute qualit√©
                                </label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card camera-preview">
                        <h3>üì∫ Aper√ßu en direct</h3>
                        <div class="camera-container">
                            <img id="camera-stream" src="" alt="Stream cam√©ra indisponible">
                            <div class="camera-overlay" id="camera-offline">
                                <p>üì∑ Cam√©ra hors ligne</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet LED -->
            <div id="led" class="tab-content">
                <div class="led-section">
                    <div class="card">
                        <h3>üí° Configuration √©clairage</h3>
                        <div class="led-controls">
                            <div class="input-group">
                                <label for="led-intensity">Intensit√© (0-255):</label>
                                <input type="range" id="led-intensity" min="0" max="255" value="128">
                                <span id="led-intensity-value">128</span>
                            </div>
                            
                            <div class="radio-group">
                                <label class="radio-label">
                                    <input type="radio" name="led-color" value="0" id="red-color">
                                    <span class="radio-custom"></span>
                                    üî¥ Rouge
                                </label>
                                <label class="radio-label">
                                    <input type="radio" name="led-color" value="1" id="white-color">
                                    <span class="radio-custom"></span>
                                    ‚ö™ Blanc
                                </label>
                            </div>
                            
                            <div class="led-preview">
                                <div id="led-preview-circle" class="led-circle"></div>
                                <p>Aper√ßu de la couleur</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Onglet Param√®tres -->
            <div id="settings" class="tab-content">
                <div class="settings-section">
                    <div class="card">
                        <h3>üíæ Sauvegarde</h3>
                        <div class="button-group">
                            <button id="save-config" class="btn btn-primary">üíæ Sauvegarder configuration</button>
                            <button id="reset-config" class="btn btn-danger">üîÑ R√©initialiser</button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üõ°Ô∏è S√©curit√©</h3>
                        <div class="security-info">
                            <div class="metric">
                                <span class="metric-label">Temp√©rature max:</span>
                                <span class="metric-value">30¬∞C</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Uptime:</span>
                                <span id="uptime" class="metric-value">--</span>
                            </div>
                            <div class="metric">
                                <span class="metric-label">Version:</span>
                                <span class="metric-value">v1.0.0</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>üêõ Debug</h3>
                        <div class="toggle-group">
                            <label class="toggle-label">
                                <input type="checkbox" id="debug-enabled">
                                <span class="toggle-slider"></span>
                                Logs d√©taill√©s
                            </label>
                        </div>
                        <div class="debug-log">
                            <textarea id="debug-output" readonly placeholder="Les logs appara√Ætront ici..."></textarea>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Scripts -->
    <script src="script.js"></script>
</body>
</html>